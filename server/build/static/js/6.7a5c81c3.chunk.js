(this["webpackJsonpeis-registrant"]=this["webpackJsonpeis-registrant"]||[]).push([[6],{1040:function(e,t,a){"use strict";a.r(t);var c=a(38),n=a(23),s=a(5),i=a(54),r=a(83),j=a(29),d=a(0),o=a(1018),l=a(1019),b=a(345),O=a(1035),h=a(110),x=a(1027),m=a(1025),u=a(1024),g=a(266),p=a(1022),f=a(205),v=a(81),k=a(58),N=a(93),C=a(99),y=a(69),w=a(346),_=a(347),R=a(107),S=a(348),B=a(1),H=function(e){return e.nameservers.map((function(e){return Object(B.jsxs)(x.a.Row,{children:[Object(B.jsx)(x.a.Cell,{width:"4",children:e.hostname}),Object(B.jsx)(x.a.Cell,{children:e.ipv4}),Object(B.jsx)(x.a.Cell,{children:e.ipv6})]},e.ipv4)}))},L=function(e){return e.statuses.map((function(e){return Object(B.jsxs)(x.a.Row,{children:[Object(B.jsxs)(x.a.Cell,{width:"4",children:[Object(B.jsx)(f.a,{circular:!0,color:y[e].color,empty:!0})," ",Object(B.jsx)(o.a,{id:"domain.status.".concat(e),tagName:"strong"})]}),Object(B.jsx)(x.a.Cell,{children:Object(B.jsx)(o.a,{id:"domain.status.".concat(e,".description")})})]},e)}))},P=function(e){var t=e.type;return e.contacts.map((function(e){return Object(B.jsxs)(x.a.Row,{children:[Object(B.jsxs)(x.a.Cell,{width:"3",children:["admin"===t&&Object(B.jsx)(o.a,{id:"domain.contact.admin",tagName:"strong"}),"tech"===t?Object(B.jsx)(o.a,{id:"domain.contact.tech",tagName:"strong"}):""]}),Object(B.jsx)(x.a.Cell,{children:e.name}),Object(B.jsx)(x.a.Cell,{children:Object(B.jsx)("a",{href:"mailto:".concat(e.email),children:e.email})}),Object(B.jsx)(x.a.Cell,{children:e.phone||"-"})]},e.id)}))};t.default=Object(k.b)((function(e,t){var a=t.match;return{companies:e.companies,contacts:e.contacts.data,domain:e.domains.data[a.params.id],domains:e.domains,isLoading:e.domains.isLoading,ui:e.ui,user:e.user.data}}),(function(e){return Object(N.bindActionCreators)({fetchCompanies:_.b,fetchDomain:w.b,lockDomain:w.d,unlockDomain:w.e,updateContact:R.updateContact},e)}))((function(e){var t=e.companies,a=e.contacts,f=e.domain,k=e.domains,N=e.fetchCompanies,y=e.fetchDomain,w=e.isLoading,_=e.lockDomain,R=e.match,q=e.ui,z=e.unlockDomain,D=e.updateContact,E=e.user,J=q.uiElemSize,U=Object(d.useState)(!1),A=Object(j.a)(U,2),I=A[0],K=A[1],F=Object(d.useState)(!1),G=Object(j.a)(F,2),M=G[0],Q=G[1],T=Object(d.useState)(!1),V=Object(j.a)(T,2),W=V[0],X=V[1],Y=Object(d.useState)(!1),Z=Object(j.a)(Y,2),$=Z[0],ee=Z[1],te=Object(d.useState)(!1),ae=Object(j.a)(te,2),ce=ae[0],ne=ae[1],se=Object(d.useState)({}),ie=Object(j.a)(se,2),re=ie[0],je=ie[1],de=Object(d.useState)(null),oe=Object(j.a)(de,2),le=oe[0],be=oe[1],Oe=Object(d.useState)(!1),he=Object(j.a)(Oe,2),xe=he[0],me=he[1],ue=Object(d.useState)(null),ge=Object(j.a)(ue,2),pe=ge[0],fe=ge[1],ve=(f||{}).isLocked;Object(d.useEffect)((function(){Object(r.a)(Object(i.a)().mark((function e(){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==f&&void 0!==f&&f.tech_contacts||w){e.next=4;break}return e.next=3,y(R.params.id);case 3:null===t.isLoading&&N();case 4:case"end":return e.stop()}}),e)})))()}),[f,y,w,R]),Object(d.useEffect)((function(){var e;"org"===(null===pe||void 0===pe||null===(e=pe.ident)||void 0===e?void 0:e.type)&&(null===t.isLoading?Object(r.a)(Object(i.a)().mark((function e(){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N();case 2:case"end":return e.stop()}}),e)})))():Q(f.isLockable&&t.data[pe.ident.code]))}),[t,f,N,pe]),Object(d.useEffect)((function(){if(null!==f&&void 0!==f&&f.tech_contacts){var e=S.a.getUserContacts(E,f,a,t);if(Object.keys(e).length){je(e);for(var c=Object.keys(f.contacts),n=Object.keys(e),i=!1,r=0;r<n.length;r+=1)for(var j=0;j<c.length;j+=1)if(n[r]===c[j]){if(JSON.stringify(f.contacts[c[j]].roles)===JSON.stringify(["tech"]))break;i=!0}Q(f.isLockable&&i)}fe(Object(s.a)(Object(s.a)({},f.registrant),a[f.registrant.id]))}}),[t,a,f,E]);var ke=function(){var e=Object(r.a)(Object(i.a)().mark((function e(){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return X(!0),ee(!1),e.next=4,Promise.all(Object.values(re||{}).map((function(e){var t={disclosed_attributes:Object(c.a)(e.disclosed_attributes),registrant_publishable:e.registrant_publishable};return D(e.id,t)})));case 4:K(!1),X(!1),be({code:200,type:"whois"});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ne=function(){ee(!$)},Ce=function(){ne(!ce)},ye=function(){var e=Object(r.a)(Object(i.a)().mark((function e(t){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(X(!0),ne(!1),be(null),e.prev=3,!ve){e.next=9;break}return e.next=7,z(t);case 7:e.next=11;break;case 9:return e.next=11,_(t,xe);case 11:be({code:200,type:"domain".concat(ve?"Unlock":"Lock")}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),be({code:500,type:"domain".concat(ve?"Unlock":"Lock")});case 17:X(!1);case 18:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(t){return e.apply(this,arguments)}}();return w?Object(B.jsx)(C.c,{}):f?Object(B.jsxs)(C.d,{hasBackButton:!0,title:f.name,children:[!W&&le&&Object(B.jsx)(C.e,{message:le}),Object(B.jsxs)("div",{className:"page page--domain",children:[Object(B.jsx)("div",{className:"page--header",children:Object(B.jsx)(l.a,{textAlign:"center",children:Object(B.jsxs)("div",{className:"page--header--actions",children:[Object(B.jsx)(b.a,{as:v.b,content:Object(B.jsx)(o.a,{id:"domain.changeContacts"}),"data-test":"link-domain-edit",primary:!0,size:J,to:"/domain/".concat(f.id,"/edit")}),M&&Object(B.jsx)(b.a,{"data-test":ve?"open-unlock-modal":"open-lock-modal",disabled:W,loading:W,onClick:Ce,primary:!0,size:J,children:ve?Object(B.jsx)(o.a,{id:"domain.unlock"}):Object(B.jsx)(o.a,{id:"domain.lock"})})]})})}),Object(B.jsx)("div",{className:"page--block",children:Object(B.jsxs)(l.a,{text:!0,children:[Object(B.jsx)("header",{className:"page--block--header",children:Object(B.jsxs)("h2",{children:[Object(B.jsx)(o.a,{id:"domain.registrant"}),Object(B.jsx)(O.a,{basic:!0,inverted:!0,trigger:Object(B.jsx)(h.a,{name:"question circle"}),children:Object(B.jsx)(o.a,{id:"domain.registrant.tooltip"})})]})}),pe&&Object(B.jsx)(x.a,{basic:"very",children:Object(B.jsxs)(x.a.Body,{children:[Object(B.jsxs)(x.a.Row,{children:[Object(B.jsx)(x.a.Cell,{width:"4",children:Object(B.jsx)(o.a,{id:"domain.registrant.name",tagName:"strong"})}),Object(B.jsx)(x.a.Cell,{children:"".concat(pe.name," ").concat(pe.code?"(".concat(pe.code,")"):"")})]}),"priv"===pe.ident_type&&Object(B.jsxs)(x.a.Row,{children:[Object(B.jsx)(x.a.Cell,{width:"4",children:Object(B.jsx)(o.a,{id:"domain.registrant.ident",tagName:"strong"})}),Object(B.jsx)(x.a.Cell,{children:pe.ident.code||pe.ident})]}),("birthday"===pe.ident.type||"birthday"===pe.ident_type)&&pe.ident&&Object(B.jsxs)(x.a.Row,{children:[Object(B.jsx)(x.a.Cell,{width:"4",children:Object(B.jsx)(o.a,{id:"domain.registrant.ident.birthday",tagName:"strong"})}),Object(B.jsx)(x.a.Cell,{children:pe.ident})]}),"org"===pe.ident_type&&pe.ident&&Object(B.jsxs)(x.a.Row,{children:[Object(B.jsx)(x.a.Cell,{width:"4",children:Object(B.jsx)(o.a,{id:"domain.registrant.ident.org",tagName:"strong"})}),Object(B.jsx)(x.a.Cell,{children:pe.ident.code||pe.ident})]}),pe.email&&Object(B.jsxs)(x.a.Row,{children:[Object(B.jsx)(x.a.Cell,{width:"4",children:Object(B.jsx)(o.a,{id:"domain.registrant.email",tagName:"strong"})}),Object(B.jsx)(x.a.Cell,{children:Object(B.jsx)("a",{href:"mailto:".concat(pe.email),children:pe.email})})]}),pe.phone&&Object(B.jsxs)(x.a.Row,{children:[Object(B.jsx)(x.a.Cell,{width:"4",children:Object(B.jsx)(o.a,{id:"domain.registrant.phone",tagName:"strong"})}),Object(B.jsx)(x.a.Cell,{children:pe.phone})]})]})})]})}),Object(B.jsx)("div",{className:"page--block",children:Object(B.jsxs)(l.a,{text:!0,children:[Object(B.jsx)("header",{className:"page--block--header",children:Object(B.jsxs)("h2",{children:[Object(B.jsx)(o.a,{id:"domain.contacts"}),Object(B.jsx)(O.a,{basic:!0,inverted:!0,trigger:Object(B.jsx)(h.a,{name:"question circle"}),children:Object(B.jsx)(o.a,{id:"domain.contacts.tooltip"})})]})}),Object(B.jsxs)(x.a,{basic:"very",children:[Object(B.jsx)(x.a.Header,{children:Object(B.jsxs)(x.a.Row,{children:[Object(B.jsx)(x.a.HeaderCell,{children:Object(B.jsx)(o.a,{id:"domain.contact.type",tagName:"strong"})}),Object(B.jsx)(x.a.HeaderCell,{children:Object(B.jsx)(o.a,{id:"domain.contact.name",tagName:"strong"})}),Object(B.jsx)(x.a.HeaderCell,{children:Object(B.jsx)(o.a,{id:"domain.contact.email",tagName:"strong"})}),Object(B.jsx)(x.a.HeaderCell,{children:Object(B.jsx)(o.a,{id:"domain.contact.phone",tagName:"strong"})})]})}),Object(B.jsxs)(x.a.Body,{children:[Object(B.jsx)(P,{contacts:f.tech_contacts.map((function(e){return Object(s.a)(Object(s.a)({},e),a[e.id])})),type:"tech"}),Object(B.jsx)(P,{contacts:f.admin_contacts.map((function(e){return Object(s.a)(Object(s.a)({},e),a[e.id])})),type:"admin"})]})]})]})}),Object(B.jsx)("div",{className:"page--block",children:Object(B.jsxs)(l.a,{text:!0,children:[Object(B.jsx)("header",{className:"page--block--header",children:Object(B.jsxs)("h2",{children:[Object(B.jsx)(o.a,{id:"domain.statuses"}),Object(B.jsx)(O.a,{basic:!0,inverted:!0,trigger:Object(B.jsx)(h.a,{name:"question circle"}),children:Object(B.jsx)(o.a,{id:"domain.statuses.tooltip"})})]})}),Object(B.jsx)(x.a,{basic:"very",children:Object(B.jsx)(x.a.Body,{children:Object(B.jsx)(L,{statuses:f.statuses})})})]})}),Object(B.jsx)("div",{className:"page--block",children:Object(B.jsxs)(l.a,{text:!0,children:[Object(B.jsx)("header",{className:"page--block--header",children:Object(B.jsxs)("h2",{children:[Object(B.jsx)(o.a,{id:"domain.registrar"}),Object(B.jsx)(O.a,{basic:!0,inverted:!0,trigger:Object(B.jsx)(h.a,{name:"question circle"}),children:Object(B.jsx)(o.a,{id:"domain.registrar.tooltip"})})]})}),Object(B.jsx)(x.a,{basic:"very",children:Object(B.jsxs)(x.a.Body,{children:[Object(B.jsxs)(x.a.Row,{children:[Object(B.jsx)(x.a.Cell,{width:"4",children:Object(B.jsx)(o.a,{id:"domain.registrar.name",tagName:"strong"})}),Object(B.jsx)(x.a.Cell,{children:f.registrar.name})]}),Object(B.jsxs)(x.a.Row,{children:[Object(B.jsx)(x.a.Cell,{width:"4",children:Object(B.jsx)(o.a,{id:"domain.registrar.website",tagName:"strong"})}),Object(B.jsx)(x.a.Cell,{children:f.registrar&&f.registrar.website?Object(B.jsx)("a",{href:f.registrar.website.indexOf("http")>-1?f.registrar.website:"//".concat(f.registrar.website),rel:"noopener noreferrer",target:"_blank",children:f.registrar.website}):"-"})]}),f.transfer_code&&Object(B.jsxs)(x.a.Row,{children:[Object(B.jsx)(x.a.Cell,{width:"4",children:Object(B.jsx)(o.a,{id:"domain.transfer_code",tagName:"strong"})}),Object(B.jsx)(x.a.Cell,{children:f.transfer_code})]})]})})]})}),Object(B.jsx)("div",{className:"page--block",children:Object(B.jsxs)(l.a,{text:!0,children:[Object(B.jsxs)("header",{className:"page--block--header",children:[Object(B.jsxs)("h2",{children:[Object(B.jsx)(o.a,{id:"domain.nameservers"}),Object(B.jsx)(O.a,{basic:!0,inverted:!0,trigger:Object(B.jsx)(h.a,{name:"question circle"}),children:Object(B.jsx)(o.a,{id:"domain.nameservers.tooltip"})})]}),f.nameservers.length?null:Object(B.jsx)(o.a,{id:"domain.nameservers.text",tagName:"p"})]}),f.nameservers.length?Object(B.jsxs)(x.a,{basic:"very",children:[Object(B.jsx)(x.a.Header,{children:Object(B.jsxs)(x.a.Row,{children:[Object(B.jsx)(x.a.HeaderCell,{children:Object(B.jsx)(o.a,{id:"domain.hostname",tagName:"strong"})}),Object(B.jsx)(x.a.HeaderCell,{children:"IPv4"}),Object(B.jsx)(x.a.HeaderCell,{children:"IPv6"})]})}),Object(B.jsx)(x.a.Body,{children:Object(B.jsx)(H,{nameservers:f.nameservers})})]}):null]})}),Object(B.jsx)("div",{className:"page--block",children:Object(B.jsxs)(l.a,{text:!0,children:[Object(B.jsxs)("header",{className:"page--block--header",children:[Object(B.jsxs)("h2",{children:[Object(B.jsx)(o.a,{id:"domain.dnsSec.title"}),Object(B.jsx)(O.a,{basic:!0,inverted:!0,trigger:Object(B.jsx)(h.a,{name:"question circle"}),children:Object(B.jsx)(o.a,{id:"domain.dnsSec.tooltip"})})]}),f.dnssec_keys||f.dnssec_keys.length?null:Object(B.jsx)(o.a,{id:"domain.dnsSec.noResults",tagName:"p"})]}),f.dnssec_keys&&f.dnssec_keys.length?Object(B.jsx)(x.a,{basic:"very",children:Object(B.jsx)(x.a.Body,{children:f.dnssec_keys.map((function(e){return Object(B.jsx)(x.a.Row,{children:Object(B.jsx)(x.a.Cell,{children:e})},e)}))})}):null]})}),Object(B.jsx)("div",{className:"page--block",children:Object(B.jsxs)(l.a,{text:!0,children:[Object(B.jsxs)("header",{className:"page--block--header",children:[Object(B.jsxs)("h2",{children:[Object(B.jsx)(o.a,{id:"domain.whoisPrivacy"}),Object(B.jsx)(O.a,{basic:!0,inverted:!0,trigger:Object(B.jsx)(h.a,{name:"question circle"}),children:Object(B.jsx)(o.a,{id:"domain.whoisPrivacy.tooltip"})})]}),Object(B.jsx)(o.a,{id:"domain.whoisPrivacy.text",tagName:"p"})]}),Object(B.jsxs)(m.a,{onSubmit:Ne,children:[Object(B.jsx)(C.l,{contacts:re,domain:f,domains:k,onChange:function(e){je((function(t){return Object.entries(e).reduce((function(e,a){var c=Object(j.a)(a,2),i=c[0],r=c[1],d=r.disclosed_attributes,o=r.registrant_publishable;return Object(s.a)(Object(s.a)({},e),{},Object(n.a)({},i,Object(s.a)(Object(s.a)({},t[i]),{},{disclosed_attributes:d,registrant_publishable:o})))}),{})})),K(!0)}}),Object(B.jsx)("div",{className:"form-actions",children:Object(B.jsx)(b.a,{disabled:!I,loading:W,primary:!0,size:J,type:"submit",children:Object(B.jsx)(o.a,{id:"actions.save",tagName:"span"})})})]})]})})]}),Object(B.jsx)(u.a,{cancelButton:Object(B.jsx)(b.a,{"data-test":"close-lock-modal",secondary:!0,size:J,children:Object(B.jsx)(o.a,{id:"actions.confirm.no",tagName:"span"})}),closeOnEscape:!0,confirmButton:Object(B.jsx)(b.a,{"data-test":"lock-domain",primary:!0,size:J,children:Object(B.jsx)(o.a,{id:"actions.confirm.yes",tagName:"span"})}),content:Object(B.jsxs)(g.a.Content,{className:"center",children:[ve?"":Object(B.jsxs)("div",{className:"fs-18",children:[Object(B.jsx)(p.a,{className:"mr-1",name:"name",onChange:function(e,t){return a=t.checked,void me(a);var a},value:"some"}),Object(B.jsx)(o.a,{id:"domain.lock.extenstionsProhibited.name",tagName:"span"}),Object(B.jsx)("div",{children:Object(B.jsx)(o.a,{id:"domain.lock.extenstionsProhibited.description",tagName:"p"})}),Object(B.jsx)("div",{className:"mb-1"})]}),ve?Object(B.jsx)(o.a,{id:"domain.unlock.description",tagName:"p"}):Object(B.jsx)(o.a,{id:"domain.lock.description",tagName:"p"})]}),header:Object(B.jsx)(g.a.Header,{children:ve?Object(B.jsx)(o.a,{id:"domain.unlock.title",tagName:"h2"}):Object(B.jsx)(o.a,{id:"domain.lock.title",tagName:"h2"})}),onCancel:Ce,onConfirm:function(){return ye(f.id)},open:ce,size:"large"}),Object(B.jsx)(C.k,{contacts:re,onCancel:Ne,onConfirm:ke,open:$})]}):Object(B.jsx)(C.d,{hasBackButton:!0,titleKey:"domain.404.title",children:Object(B.jsx)(C.f,{headerContent:Object(B.jsx)(o.a,{id:"domain.404.message.title",tagName:"span"}),icon:"frown outline",children:Object(B.jsx)(o.a,{id:"domain.404.message.content",tagName:"p"})})})}))}}]);
//# sourceMappingURL=6.7a5c81c3.chunk.js.map