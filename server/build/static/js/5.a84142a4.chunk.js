(this["webpackJsonpeis-registrant"]=this["webpackJsonpeis-registrant"]||[]).push([[5],{1045:function(e,t,a){"use strict";a.r(t);var n=a(38),c=a(23),i=a(5),r=a(54),s=a(83),l=a(29),o=a(0),d=a.n(o),b=a(1018),u=a(1019),j=a(1034),m=a(4),p=a.n(m),O=a(14),h=a.n(O),f=a(16),x=a.n(f),g=a(17),N=a.n(g),k=a(15),v=a.n(k),y=a(18),C=a.n(y),E=a(2),A=a.n(E),w=a(3),P=a.n(w),_=a(6),S=a.n(_),z=a(24),G=a(149),T=a(174),F=a(7),K=a(535),L=(a(61),a(204));function V(e){var t=e.children,a=e.className,n=e.content,c=e.textAlign,i=S()(Object(z.d)(c),"description",a),r=Object(G.a)(V,e),s=Object(T.a)(V,e);return d.a.createElement(s,p()({},r,{className:i}),F.b.isNil(t)?n:t)}V.handledProps=["as","children","className","content","textAlign"],V.propTypes={};var B=V;function D(e){var t=e.children,a=e.className,n=e.content,c=e.textAlign,i=S()(Object(z.d)(c),"header",a),r=Object(G.a)(D,e),s=Object(T.a)(D,e);return d.a.createElement(s,p()({},r,{className:i}),F.b.isNil(t)?n:t)}D.handledProps=["as","children","className","content","textAlign"],D.propTypes={};var M=D;function R(e){var t=e.children,a=e.className,n=e.content,c=e.textAlign,i=S()(Object(z.d)(c),"meta",a),r=Object(G.a)(R,e),s=Object(T.a)(R,e);return d.a.createElement(s,p()({},r,{className:i}),F.b.isNil(t)?n:t)}R.handledProps=["as","children","className","content","textAlign"],R.propTypes={};var q=R;function J(e){var t=e.children,a=e.className,n=e.content,c=e.description,i=e.extra,r=e.header,s=e.meta,l=e.textAlign,o=S()(Object(z.a)(i,"extra"),Object(z.d)(l),"content",a),b=Object(G.a)(J,e),u=Object(T.a)(J,e);return F.b.isNil(t)?F.b.isNil(n)?d.a.createElement(u,p()({},b,{className:o}),Object(L.d)(M,(function(e){return{content:e}}),r,{autoGenerateKey:!1}),Object(L.d)(q,(function(e){return{content:e}}),s,{autoGenerateKey:!1}),Object(L.d)(B,(function(e){return{content:e}}),c,{autoGenerateKey:!1})):d.a.createElement(u,p()({},b,{className:o}),n):d.a.createElement(u,p()({},b,{className:o}),t)}J.handledProps=["as","children","className","content","description","extra","header","meta","textAlign"],J.propTypes={};var H=J,I=a(40),Q=a.n(I);function U(e){var t=e.centered,a=e.children,n=e.className,c=e.content,i=e.doubling,r=e.items,s=e.itemsPerRow,l=e.stackable,o=e.textAlign,b=S()("ui",Object(z.a)(t,"centered"),Object(z.a)(i,"doubling"),Object(z.a)(l,"stackable"),Object(z.d)(o),Object(z.g)(s),"cards",n),u=Object(G.a)(U,e),j=Object(T.a)(U,e);if(!F.b.isNil(a))return d.a.createElement(j,p()({},u,{className:b}),a);if(!F.b.isNil(c))return d.a.createElement(j,p()({},u,{className:b}),c);var m=Q()(r,(function(e){var t=e.key||[e.header,e.description].join("-");return d.a.createElement(X,p()({key:t},e))}));return d.a.createElement(j,p()({},u,{className:b}),m)}U.handledProps=["as","centered","children","className","content","doubling","items","itemsPerRow","stackable","textAlign"],U.propTypes={};var W=U,X=function(e){function t(){var e,a;h()(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return a=N()(this,(e=v()(t)).call.apply(e,[this].concat(c))),P()(A()(A()(a)),"handleClick",(function(e){var t=a.props.onClick;t&&t(e,a.props)})),a}return C()(t,e),x()(t,[{key:"render",value:function(){var e=this.props,a=e.centered,n=e.children,c=e.className,i=e.color,r=e.content,s=e.description,l=e.extra,o=e.fluid,b=e.header,u=e.href,j=e.image,m=e.link,O=e.meta,h=e.onClick,f=e.raised,x=S()("ui",i,Object(z.a)(a,"centered"),Object(z.a)(o,"fluid"),Object(z.a)(m,"link"),Object(z.a)(f,"raised"),"card",c),g=Object(G.a)(t,this.props),N=Object(T.a)(t,this.props,(function(){if(h)return"a"}));return F.b.isNil(n)?F.b.isNil(r)?d.a.createElement(N,p()({},g,{className:x,href:u,onClick:this.handleClick}),K.a.create(j,{autoGenerateKey:!1}),(s||b||O)&&d.a.createElement(H,{description:s,header:b,meta:O}),l&&d.a.createElement(H,{extra:!0},l)):d.a.createElement(N,p()({},g,{className:x,href:u,onClick:this.handleClick}),r):d.a.createElement(N,p()({},g,{className:x,href:u,onClick:this.handleClick}),n)}}]),t}(o.Component);P()(X,"Content",H),P()(X,"Description",B),P()(X,"Group",W),P()(X,"Header",M),P()(X,"Meta",q),P()(X,"handledProps",["as","centered","children","className","color","content","description","extra","fluid","header","href","image","link","meta","onClick","raised"]),X.propTypes={};var Y=a(1025),Z=a(1023),$=a(345),ee=a(58),te=a(93),ae=a(99),ne=a(348),ce=a(346),ie=a(347),re=a(107),se=a(1),le=function(e){var t=e.companies,a=e.contacts,d=e.domain,m=e.fetchCompanies,p=e.fetchDomain,O=e.isLoading,h=e.match,f=e.message,x=e.ui,g=e.updateContact,N=e.user,k=x.uiElemSize,v=Object(o.useState)([]),y=Object(l.a)(v,2),C=y[0],E=y[1],A=Object(o.useState)([]),w=Object(l.a)(A,2),P=w[0],_=w[1],S=Object(o.useState)(!1),z=Object(l.a)(S,2),G=z[0],T=z[1],F=Object(o.useState)({}),K=Object(l.a)(F,2),L=K[0],V=K[1],B=Object(o.useState)({}),D=Object(l.a)(B,2),M=D[0],R=D[1];Object(o.useEffect)((function(){Object(s.a)(Object(r.a)().mark((function e(){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d&&null!==d&&void 0!==d&&d.tech_contacts||O){e.next=4;break}return e.next=3,p(h.params.id);case 3:null===t.isLoading&&m();case 4:case"end":return e.stop()}}),e)})))()}),[d,p,O,h]),Object(o.useEffect)((function(){if(d){var e=a[d.registrant.id];e&&"org"===e.ident.type&&null===t.isLoading&&Object(s.a)(Object(r.a)().mark((function e(){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m();case 2:case"end":return e.stop()}}),e)})))(),V(ne.a.parseDomainContacts(N,d,a,t.data))}}),[t,a,d,m,N]);var q=function(e,t){var a=e.target,n=a.name,r=a.value;V((function(e){return Object(i.a)(Object(i.a)({},e),{},Object(c.a)({},t,Object(i.a)(Object(i.a)({},e[t]),{},Object(c.a)({},n,r))))})),C.includes(t)||(C.push(t),E(C))},J=function(e){V(Object(i.a)(Object(i.a)({},L),e)),C.includes(Object.keys(e)[0])||(C.push(Object.keys(e)[0]),E(C))},H=function(){T(!G)},I=function(){var e=Object(s.a)(Object(r.a)().mark((function e(){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P.includes(Object.keys(M)[0])||(P.push(Object.keys(M)[0]),_(P)),T(!1),e.next=4,Promise.all(Object.values(M).map((function(e){var t=M[d.registrant.id];return t&&"org"===t.ident.type?g(e.id,{email:e.email,phone:e.phone}):e.ident.code===N.ident?g(e.id,{disclosed_attributes:Object(n.a)(e.disclosed_attributes),registrant_publishable:e.registrant_publishable,email:e.email,phone:e.phone}):"org"===e.ident.type?g(e.id,{email:e.email,phone:e.phone}):g(e.id,{disclosed_attributes:Object(n.a)(e.disclosed_attributes),registrant_publishable:e.registrant_publishable,email:e.email,phone:e.phone})})));case 4:C.includes(Object.keys(M)[0])&&E(C.filter((function(e){return e!==Object.keys(M)[0]}))),P.includes(Object.keys(M)[0])&&_(P.filter((function(e){return e!==Object.keys(M)[0]})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return O?Object(se.jsx)(ae.c,{}):d?Object(se.jsxs)(ae.d,{hasBackButton:!0,title:d.name,children:[Object(se.jsxs)("div",{className:"page page--domain-edit",children:[Object(se.jsx)("div",{className:"page--header",children:Object(se.jsx)(u.a,{textAlign:"center",children:Object(se.jsx)("h2",{children:Object(se.jsx)(b.a,{id:"domainEdit.title",tagName:"label"})})})}),Object(se.jsx)(j.a,{textAlign:"center",children:Object(se.jsx)(j.a.Row,{children:Object.values(L).map((function(e){return Object(se.jsx)(j.a.Column,{computer:4,mobile:16,tablet:8,widescreen:3,children:Object(se.jsx)(X,{centered:!0,children:Object(se.jsxs)(X.Content,{children:[!P.includes(e.id)&&Object.keys(M).includes(e.id)&&f&&Object(se.jsx)(ae.e,{formMessage:!0,message:f}),Object(se.jsxs)(Y.a,{onSubmit:function(t){return function(e){R(Object(c.a)({},e.id,L[e.id])),H()}(e)},children:[Object(se.jsxs)(Y.a.Group,{grouped:!0,children:[Object(se.jsx)("h4",{children:Object(se.jsx)(ae.h,{roles:e.roles})}),Object(se.jsxs)(Y.a.Field,{children:[Object(se.jsx)(b.a,{id:"domain.registrant.name",tagName:"label"}),Object(se.jsx)(Z.a,{defaultValue:e.name,disabled:!0,size:k,type:"text"})]}),Object(se.jsxs)(Y.a.Field,{children:[Object(se.jsx)(b.a,{id:"domain.registrant.ident.code",tagName:"label"}),Object(se.jsx)(Z.a,{defaultValue:e.ident.code,disabled:!0,size:k,type:"text"})]}),Object(se.jsxs)(Y.a.Field,{error:f&&f.errors&&f.errors.email&&f.errors.email.length,children:[Object(se.jsx)(b.a,{id:"domain.registrant.email",tagName:"label"}),Object(se.jsx)(Z.a,{defaultValue:e.email,name:"email",onChange:function(t){return q(t,e.id)},required:!0,size:k,type:"email"})]}),Object(se.jsxs)(Y.a.Field,{error:f&&f.errors&&f.errors.phone&&f.errors.phone.length,children:[Object(se.jsx)(b.a,{id:"domain.registrant.phone",tagName:"label"}),Object(se.jsx)(Z.a,{defaultValue:e.phone,name:"phone",onChange:function(t){return q(t,e.id)},required:!0,size:k,type:"tel"})]})]}),Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)(b.a,{id:"domain.contactsVisibility",tagName:"h3"}),Object(se.jsx)(ae.l,{checkAll:!0,contacts:Object(c.a)({},e.id,L[e.id]),domain:d,onChange:J})]}),Object(se.jsx)("div",{className:"form-actions",children:Object(se.jsx)($.a,{disabled:!C.includes(e.id),loading:P.includes(e.id),primary:!0,size:k,type:"submit",children:Object(se.jsx)(b.a,{defaultMessage:"Salvesta",id:"actions.save",tagName:"span"})})})]})]})})},e.id)}))})})]}),Object(se.jsx)(ae.k,{contacts:M,domain:d,onCancel:H,onConfirm:I,open:G})]}):Object(se.jsx)(ae.d,{hasBackButton:!0,titleKey:"domain.404.title",children:Object(se.jsx)(ae.f,{headerContent:Object(se.jsx)(b.a,{id:"domain.404.message.title"}),icon:"frown outline",children:Object(se.jsx)(b.a,{id:"domain.none.message.text",tagName:"p"})})})};t.default=Object(ee.b)((function(e,t){var a=t.match;return{companies:e.companies,contacts:e.contacts.data,domain:e.domains.data[a.params.id],isLoading:e.domains.isLoading,message:e.contacts.message,ui:e.ui,user:e.user.data}}),(function(e){return Object(te.bindActionCreators)({fetchCompanies:ie.b,fetchDomain:ce.b,updateContact:re.updateContact},e)}))(le);le.defaultProps={companies:{},contacts:{},domain:{}}}}]);
//# sourceMappingURL=5.a84142a4.chunk.js.map