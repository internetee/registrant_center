(this["webpackJsonpeis-registrant"]=this["webpackJsonpeis-registrant"]||[]).push([[3],{1041:function(e,t,a){"use strict";a.r(t);var c=a(38),n=a(54),s=a(83),i=a(29),r=a(0),j=a(505),o=a(1018),l=a(1027),b=a(1019),d=a(1025),O=a(1023),m=a(345),p=a(1030),h=a(110),u=a(1028),x=a(58),g=a(167),f=a(93),v=a(99),C=a(347),N=a(1),y=[{key:6,text:"6",value:6},{key:12,text:"12",value:12},{key:24,text:"24",value:24}];t.default=Object(x.b)((function(e){var t=e.companies;return{companies:t.ids.map((function(e){return t.data[e]}))}}),(function(e){return Object(f.bindActionCreators)({fetchCompanies:C.b},e)}))((function(e){var t=e.companies,a=void 0===t?[]:t,x=e.fetchCompanies,f=Object(j.a)().formatMessage,C=Object(g.b)(["companies_per_page"]),w=Object(i.a)(C,2),_=w[0],k=w[1],S=_.companies_per_page,F=Object(r.useState)(S?Number(S):24),P=Object(i.a)(F,2),I=P[0],B=P[1],H=Object(r.useState)(1),L=Object(i.a)(H,2),A=L[0],E=L[1],J=Object(r.useState)(a),K=Object(i.a)(J,2),M=K[0],R=K[1],q=Object(r.useState)(!0),z=Object(i.a)(q,2),V=z[0],D=z[1],G=Object(r.useState)(""),Q=Object(i.a)(G,2),T=Q[0],U=Q[1];Object(r.useEffect)((function(){Object(s.a)(Object(n.a)().mark((function e(){return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x();case 2:D(!1);case 3:case"end":return e.stop()}}),e)})))()}),[x]),Object(r.useEffect)((function(){R(a)}),[a]);if(V)return Object(N.jsx)(v.c,{});var W=[],X=[];if(M&&M.length){for(var Y=Object(c.a)(M),Z=Math.ceil(Y.length/I),$=0;$<Z;$+=1)X.push(Y.splice(0,I));W=X[A-1].map((function(e){return Object(N.jsxs)(l.a.Row,{children:[Object(N.jsx)(l.a.Cell,{children:e.name}),Object(N.jsx)(l.a.Cell,{children:e.registry_no})]},e.registry_no)}))}return Object(N.jsx)(v.d,{hasBackButton:!0,titleKey:"companies.title",children:Object(N.jsx)("div",{className:"page page--companies",children:a.length?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("div",{className:"page--header",children:Object(N.jsx)(b.a,{children:Object(N.jsx)(d.a,{className:"form-filter",onSubmit:function(){var e=a.slice();if(T.length){var t=T.toLowerCase();e=e.filter((function(e){return e.name.toLowerCase().includes(t)||e.registry_no.toString().toLowerCase().includes(t)})),R(e)}else 0===T.length&&R(a)},children:Object(N.jsxs)("div",{className:"form-filter--search",children:[Object(N.jsx)("div",{className:"form-filter--actions"}),Object(N.jsxs)("div",{className:"search-field",children:[Object(N.jsx)(O.a,{className:"icon",defaultValue:T,disabled:V,name:"queryKeys",onChange:function(e,t){var c=t.value;""===c&&R(a),U(c)},placeholder:f({id:"companies.searchForACompany"}),size:"massive",type:"text"}),Object(N.jsx)(m.a,{color:"orange",icon:"sync",onClick:function(){E(1),U(""),R(a)},type:"reset"}),Object(N.jsx)(m.a,{icon:"arrow right",primary:!0,type:"submit"})]}),Object(N.jsx)("div",{className:"form-filter--actions"})]})})})}),M?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(b.a,{children:Object(N.jsxs)(l.a,{children:[Object(N.jsx)(l.a.Header,{children:Object(N.jsxs)(l.a.Row,{children:[Object(N.jsx)(l.a.HeaderCell,{children:Object(N.jsx)(o.a,{id:"companies.name"})}),Object(N.jsx)(l.a.HeaderCell,{children:Object(N.jsx)(o.a,{id:"companies.registerCode"})})]})}),Object(N.jsx)(l.a.Body,{children:W})]})}),Object(N.jsx)("div",{className:"paginator",children:Object(N.jsxs)(b.a,{children:[Object(N.jsx)(p.a,{activePage:A,firstItem:null,lastItem:null,nextItem:{content:Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(o.a,{id:"pagination.next",tagName:"span"}),Object(N.jsx)(h.a,{name:"arrow right"})]}),disabled:A===X.length,icon:!0},onPageChange:function(e,t){var a=t.activePage;E(a)},prevItem:{content:Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(h.a,{name:"arrow left"}),Object(N.jsx)(o.a,{id:"pagination.previous",tagName:"span"})]}),disabled:1===A,icon:!0},totalPages:X.length}),Object(N.jsx)(d.a,{children:Object(N.jsxs)(d.a.Field,{inline:!0,children:[Object(N.jsx)(o.a,{id:"pagination.perPage",tagName:"label"}),Object(N.jsx)(u.a,{onChange:function(e,t){var a=t.value;k("companies_per_page",a,{path:"/companies"}),E(1),B(a)},options:y,selection:!0,value:I})]})})]})})]}):Object(N.jsx)(v.f,{headerContent:Object(N.jsx)(o.a,{id:"companies.search.message.title",tagName:"span"}),children:Object(N.jsx)(o.a,{id:"companies.search.message.content",tagName:"p"})})]}):Object(N.jsx)(v.f,{headerContent:Object(N.jsx)(o.a,{id:"companies.none.message.title",tagName:"span"}),icon:"frown outline",children:Object(N.jsx)(o.a,{id:"companies.none.message.content",tagName:"p"})})})})}))}}]);
//# sourceMappingURL=3.0f3bbd73.chunk.js.map